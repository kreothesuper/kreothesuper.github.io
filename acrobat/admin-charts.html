<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="assets/libs/swiper/swiper.css">

    <link rel="stylesheet" href="assets/styles/css/fonts.css">

    <link rel="stylesheet" href="assets/styles/css/reset.css">
    <link rel="stylesheet" href="assets/styles/css/index.css">
</head>

<body>

    <div class="page-wrapper">
        <aside class="page-wrapper__aside aside">
            <div class="aside__wrapper">

            </div>
        </aside>
        <main class="page-wrapper__content content content--admin editor">
            <div class="content__wrapper content__wrapper--chart content__wrapper--full">
                <div class="block block--full">
                    <div class="block__wrapper block__wrapper--full">
                        <div class="block__item">
                            <div class="chart-select chart-select--big">
                                <label class="chart-select__item">
                                    <select class="chart-select__tag">
                                        <option value="30">Сегодня</option>
                                        <option value="10">Вчера</option>
                                    </select>
                                </label>
                            </div>
                        </div>
                        <div class="block__item">
                            <div class="chart-grid">
                                <div class="card chart-card">
                                    <p class="chart-card__percent text text--tiny text--green text--bold">
                                        +23%
                                    </p>
                                    <div class="card__wrapper card__wrapper--big">
                                        <div class="chart-card__row">
                                            <div class="chart-card__icon">
                                                <img src="assets/images/icons/chart.svg" alt="">
                                            </div>
                                            <div class="chart-card__content">
                                                <p class="text text--base text--grey--light">
                                                    Визиты
                                                </p>
                                                <p
                                                    class="title title--bold title--small title--small--regular title--black">
                                                    280 640
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card chart-card">
                                    <p class="chart-card__percent text text--tiny text--red text--bold">
                                        -10%
                                    </p>
                                    <div class="card__wrapper card__wrapper--big">
                                        <div class="chart-card__row">
                                            <div class="chart-card__icon">
                                                <img src="assets/images/icons/users.svg" alt="">
                                            </div>
                                            <div class="chart-card__content">
                                                <p class="text text--base text--grey--light">
                                                    Регистрации
                                                </p>
                                                <p
                                                    class="title title--bold title--small title--small--regular title--black">
                                                    64 239
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card chart-card">
                                    <div class="card__wrapper card__wrapper--big">
                                        <div class="chart-card__row">
                                            <div class="chart-card__content">
                                                <p class="text text--base text--grey--light">
                                                    Оплаты <span class="text text--tiny text--red text--bold">
                                                        -10%
                                                    </span>
                                                </p>
                                                <p
                                                    class="title title--bold title--small title--small--regular title--black">
                                                    4 180
                                                </p>
                                            </div>
                                            <div class="chart-card__content">
                                                <p class="text text--base text--grey--light">
                                                    Платежи <span class="text text--tiny text--red text--bold">
                                                        -10%
                                                    </span>
                                                </p>
                                                <p
                                                    class="title title--bold title--small title--small--regular title--black">
                                                    340 560₽
                                                </p>
                                            </div>
                                            <div class="chart-card__divider chart-card__divider--mobile--full"></div>
                                            <div class="chart-card__content">
                                                <p class="text text--base text--grey--light">
                                                    Подписки <span class="text text--tiny text--red text--bold">
                                                        -10%
                                                    </span>
                                                </p>
                                                <p
                                                    class="title title--bold title--small title--small--regular title--black">
                                                    4 180
                                                </p>
                                            </div>
                                            <div class="chart-card__content">
                                                <p class="text text--base text--grey--light">
                                                    Платежи <span class="text text--tiny text--red text--bold">
                                                        -10%
                                                    </span>
                                                </p>
                                                <p
                                                    class="title title--bold title--small title--small--regular title--black">
                                                    340 560₽
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card chart-card">
                                    <p class="chart-card__percent text text--tiny text--red text--bold">
                                        -10%
                                    </p>
                                    <div class="card__wrapper card__wrapper--big">
                                        <div class="chart-card__row">
                                            <div class="chart-card__icon">
                                                <img src="assets/images/icons/user-minus.svg" alt="">
                                            </div>
                                            <div class="chart-card__content">
                                                <p class="text text--base text--grey--light">
                                                    Удаление карты
                                                </p>
                                                <p
                                                    class="title title--bold title--small title--small--regular title--black">
                                                    64 239
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card chart-card">
                                    <p class="chart-card__percent text text--tiny text--red text--bold">
                                        -10%
                                    </p>
                                    <div class="card__wrapper card__wrapper--big">
                                        <div class="chart-card__content">
                                            <p class="text text--base text--center text--grey--light">
                                                Неудачные платежи
                                            </p>
                                            <div class="chart-card__row">
                                                <p
                                                    class="title title--bold title--small title--small--regular title--black">
                                                    64 239
                                                </p>
                                                <div class="chart-card__divider"></div>
                                                <p
                                                    class="title title--bold title--small title--small--regular title--black">
                                                    64 239
                                                </p>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="block__item">
                            <div class="grid grid--chart">
                                <div class="card chart">
                                    <div class="card__wrapper card__wrapper--big">
                                        <div class="card__column card__column--big">
                                            <div class="card__column card__column--big">
                                                <div class="card__row">
                                                    <div class="chart-select">
                                                        <label class="chart-select__item">
                                                            <select class="chart-select__tag">
                                                                <option value="30">30 дней</option>
                                                                <option value="10">10 дней</option>
                                                            </select>
                                                        </label>
                                                        <p class="text text--tiny text--green text--bold">
                                                            +23%
                                                        </p>
                                                    </div>
                                                    <div class="chart__icon">
                                                        <img src="assets/images/icons/chart.svg" alt="">
                                                    </div>
                                                </div>

                                                <div class="chart__grid">
                                                    <div class="card__column card__column--big">
                                                        <div class="card__column card__column--small">
                                                            <p
                                                                class="title title--line--small title--base title--black">
                                                                37 500₽
                                                            </p>
                                                            <p class="text text--tiny text--grey--lighter">
                                                                Общий доход
                                                            </p>
                                                        </div>
                                                        <div class="chart-legend chart-legend--column">
                                                            <div class="chart-legend__column">
                                                                <div class="chart-legend__item" style="--color:#7B20A6">
                                                                    Подписки
                                                                </div>
                                                                <div class="chart-legend__item" style="--color:#9F7EAF">
                                                                    Предыдущий месяц
                                                                </div>
                                                            </div>
                                                            <div class="chart-legend__column">
                                                                <div class="chart-legend__item" style="--color:#28B8E5">
                                                                    Оплаты
                                                                </div>
                                                                <div class="chart-legend__item" style="--color:#A4C8D3">
                                                                    Предыдущий месяц
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="chart-list">
                                                        <div class="chart__item chart__item--small">
                                                            <canvas id="incomechart"></canvas>
                                                        </div>
                                                        <div class="chart__item chart__item--small">
                                                            <canvas id="incomechart-second"></canvas>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="card chart">
                                    <div class="card__wrapper card__wrapper--big">
                                        <div class="card__column card__column--big">
                                            <div class="card__column card__column--big">
                                                <div class="chart__control">
                                                    <div class="chart-select">
                                                        <label class="chart-select__item">
                                                            <select class="chart-select__tag">
                                                                <option value="30">30 дней</option>
                                                                <option value="10">10 дней</option>
                                                            </select>
                                                        </label>
                                                        <p class="text text--tiny text--red text--bold">
                                                            -10%
                                                        </p>

                                                    </div>
                                                    <div class="chart-legend">
                                                        <div class="chart-legend__item" style="--color:#7B20A6">
                                                            Умный поиск
                                                        </div>
                                                        <div class="chart-legend__item" style="--color:#28B8E5">
                                                            Аналитика ВК
                                                        </div>
                                                        <div class="chart-legend__item" style="--color:#E3D6E9">
                                                            Мониторинг поиска
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="card__row">
                                                    <p class="title title--small title--black title--small--regular">
                                                        Активность разделов
                                                    </p>
                                                    <div class="chart__icon">
                                                        <img src="assets/images/icons/chart.svg" alt="">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="chart__item">
                                                <canvas id="activityChart"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card chart">
                                    <div class="card__wrapper card__wrapper--big">
                                        <div class="card__column card__column--big">
                                            <div class="card__column card__column--big">
                                                <div class="card__row">
                                                    <div class="card__column">
                                                        <div class="chart__control">
                                                            <div class="chart-select">
                                                                <label class="chart-select__item">
                                                                    <select class="chart-select__tag">
                                                                        <option value="30">30 дней</option>
                                                                        <option value="10">10 дней</option>
                                                                    </select>
                                                                </label>
                                                                <p class="text text--tiny text--red text--bold">
                                                                    -10%
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <p
                                                            class="title title--small title--black title--small--regular">
                                                            Оплаты тарифов
                                                        </p>
                                                    </div>
                                                    <div class="chart__icon">
                                                        <img src="assets/images/icons/chart.svg" alt="">
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="chart__item">
                                                <div class="chart-table">
                                                    <div class="chart-table__row">
                                                        <p class="text text--base text--grey--light">
                                                            Название
                                                        </p>
                                                        <p class="text text--base text--grey--light">
                                                            Подписок
                                                        </p>
                                                        <p class="text text--base text--grey--light">
                                                            Успешных оплат
                                                        </p>
                                                        <p class="text text--base text--grey--light">
                                                            Отписок
                                                        </p>
                                                        <p class="text text--base text--grey--light">
                                                            Возвраты
                                                        </p>
                                                        <p class="text text--base text--grey--light">
                                                            Претензии
                                                        </p>
                                                        <p class="text text--base text--grey--light">
                                                            Чарджи
                                                        </p>
                                                    </div>
                                                    <div class="chart-table__row">
                                                        <p class="text text--bold text--base text--black">
                                                            Попробуй 99р
                                                        </p>
                                                        <p class="text text--base text--green text--center">
                                                            2.560
                                                        </p>
                                                        <p class="text text--base text--green text--center">
                                                            2.458
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                    </div>
                                                    <div class="chart-table__row">
                                                        <p class="text text--bold text--base text--black">
                                                            Премиум
                                                        </p>
                                                        <p class="text text--base text--green text--center">
                                                            2.560
                                                        </p>
                                                        <p class="text text--base text--green text--center">
                                                            2.458
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                    </div>
                                                    <div class="chart-table__row">
                                                        <p class="text text--bold text--base text--black">
                                                            Разовый 5 дней
                                                        </p>
                                                        <p class="text text--base text--green text--center">
                                                            2.560
                                                        </p>
                                                        <p class="text text--base text--green text--center">
                                                            2.458
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            -
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                    </div>
                                                    <div class="chart-table__row">
                                                        <p class="text text--bold text--base text--black">
                                                            Разовый 14 дней
                                                        </p>
                                                        <p class="text text--base text--green text--center">
                                                            2.560
                                                        </p>
                                                        <p class="text text--base text--green text--center">
                                                            2.458
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                    </div>
                                                    <div class="chart-table__row">
                                                        <p class="text text--bold text--base text--black">
                                                            Разовый 2 дня
                                                        </p>
                                                        <p class="text text--base text--green text--center">
                                                            2.560
                                                        </p>
                                                        <p class="text text--base text--green text--center">
                                                            2.458
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                        <p class="text text--base text--red text--center">
                                                            476
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card chart">
                                    <div class="card__wrapper card__wrapper--big">
                                        <div class="card__column card__column--big">
                                            <div class="card__column card__column--big">
                                                <div class="chart__control">
                                                    <div class="chart-select">
                                                        <label class="chart-select__item">
                                                            <select class="chart-select__tag">
                                                                <option value="30">30 дней</option>
                                                                <option value="10">10 дней</option>
                                                            </select>
                                                        </label>
                                                        <p class="text text--tiny text--red text--bold">
                                                            -10%
                                                        </p>

                                                    </div>
                                                    <div class="chart-legend">
                                                        <div class="chart-legend__item" style="--color:#F3E55F">
                                                            Возвраты
                                                        </div>
                                                        <div class="chart-legend__item" style="--color:#E98F08">
                                                            Претензии
                                                        </div>
                                                        <div class="chart-legend__item" style="--color:#CD0505">
                                                            Чарджи
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="card__row">
                                                    <p class="title title--small title--black title--small--regular">
                                                        Операции
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="chart__item">
                                                <canvas id="operationchart"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="grid__block grid__block--full card chart">
                                    <div class="card__wrapper card__wrapper--big">
                                        <div class="card__column card__column--big">
                                            <div class="card__column card__column--big">
                                                <div class="chart__control">
                                                    <div class="chart-select">
                                                        <label class="chart-select__item">
                                                            <select class="chart-select__tag">
                                                                <option value="30">30 дней</option>
                                                                <option value="10">10 дней</option>
                                                            </select>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div
                                                    class="card__row card__row--mobile--column card__row--gap--big card__row--start">
                                                    <p class="title title--small title--black title--small--regular">
                                                        Трафик
                                                    </p>
                                                    <div class="card__column card__column--small">
                                                        <div class="card__row">
                                                            <p
                                                                class="title title--line--small title--base title--black">
                                                                250 600
                                                            </p>
                                                            <p class="text text--tiny text--red text--bold">
                                                                -10%
                                                            </p>
                                                        </div>

                                                        <p class="text text--tiny text--grey text--grey--lighter">
                                                            Посетителей
                                                        </p>
                                                    </div>


                                                </div>
                                            </div>
                                            <div class="chart__item">
                                                <canvas id="trafficchart"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


    <script>
        function createNumberArray(count, max) {
            let arr = [];
            for (let i = 0; i < count; i++) {
                arr.push(Math.floor(Math.random() * max));
            }
            return arr;
        }


        // оплаты 2й чарт
        const renderIncomeChartSecond = (data, labelArray) => {
            const incomeChartSecond = document.getElementById('incomechart-second');
            if (incomeChartSecond) {
                new Chart(incomeChartSecond, {
                    type: 'line',
                    interaction: {
                        mode: 'index',
                    },
                    responsive: true,
                    data: {
                        labels: labelArray,
                        datasets: [
                            {
                                label: '',
                                data: data[0],
                                borderWidth: 4,
                                backgroundColor: '#03B2FE',
                                borderColor: '#03B2FE',
                                borderRadius: 50,
                                categoryPercentage: 1,
                                barPercentage: .3,
                                pointRadius: 5,
                                backgroundColor: '#03B2FE',
                                pointBackgroundColor: 'rgba(0, 0, 0, 0)',
                                pointBorderColor: 'rgba(0, 0, 0, 0)',

                                pointHoverBackgroundColor: '#fff',
                                pointHoverBorderColor: '#03B2FE',
                                pointHoverRadius: 10,
                                pointBorderColor: 'rgba(0, 0, 0, 0)',
                            },
                            {
                                label: '',
                                data: data[1],
                                borderWidth: 4,
                                backgroundColor: '#C2DFEC',
                                borderColor: '#C2DFEC',
                                borderRadius: 50,
                                categoryPercentage: 1,
                                barPercentage: .3,
                                pointRadius: 5,
                                backgroundColor: '#C2DFEC',
                                pointBackgroundColor: 'rgba(0, 0, 0, 0)',

                                pointHoverBackgroundColor: '#fff',
                                pointHoverBorderColor: '#C2DFEC',
                                pointHoverRadius: 10,
                                pointBorderColor: 'rgba(0, 0, 0, 0)',
                            },
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: {
                            mode: 'nearest',
                            // axis: 'y',
                            intersect: false
                        },
                        elements: {
                            line: {
                                tension: 0.4,
                            }
                        },
                        plugins: {
                            legend: {
                                display: false,
                            },
                            tooltip: {

                                // Disable the on-canvas tooltip
                                enabled: false,
                                callbacks: {
                                    title: function (context) {
                                        return ''
                                    },
                                },
                                external: function (context) {
                                    // Tooltip Element
                                    let tooltipEl = document.getElementById('chartjs-tooltip');

                                    // Create element on first render
                                    if (!tooltipEl) {
                                        tooltipEl = document.createElement('div');
                                        tooltipEl.id = 'chartjs-tooltip';
                                        tooltipEl.innerHTML = '<table></table>';
                                        document.body.appendChild(tooltipEl);
                                    }

                                    // Hide if no tooltip
                                    const tooltipModel = context.tooltip;
                                    if (tooltipModel.opacity === 0) {
                                        tooltipEl.style.opacity = 0;
                                        return;
                                    }

                                    // Set caret Position
                                    tooltipEl.classList.remove('above', 'below', 'no-transform');
                                    if (tooltipModel.yAlign) {
                                        tooltipEl.classList.add(tooltipModel.yAlign);
                                    } else {
                                        tooltipEl.classList.add('no-transform');
                                    }

                                    function getBody(bodyItem) {
                                        return bodyItem.lines;
                                    }

                                    // Set Text
                                    if (tooltipModel.body) {
                                        const titleLines = tooltipModel.title || [];
                                        const bodyLines = tooltipModel.body.map(getBody);

                                        let innerHtml = '<thead>';

                                        titleLines.forEach(function (title) {
                                            innerHtml += '<tr><th>' + title + '</th></tr>';
                                        });
                                        innerHtml += '</thead><tbody>';

                                        bodyLines.forEach(function (body, i) {
                                            const colors = tooltipModel.labelColors[i];
                                            let style = 'background:' + tooltipModel.dataPoints[0].dataset.borderColor;
                                            style += '; border-color:' + colors.borderColor;
                                            style += '; border-width: 2px';
                                            style += '; padding:5px 10px';
                                            style += '; font-size:14px';
                                            style += '; border-radius:5px';
                                            const span = '<span style="' + style + '">' + body + '₽' + '</span>';
                                            innerHtml += '<tr><td>' + span + '</td></tr>';
                                        });
                                        innerHtml += '</tbody>';

                                        let tableRoot = tooltipEl.querySelector('table');
                                        tableRoot.innerHTML = innerHtml;
                                    }

                                    const position = context.chart.canvas.getBoundingClientRect();
                                    const bodyFont = Chart.helpers.toFont(tooltipModel.options.bodyFont);

                                    // Display, position, and set styles for font
                                    tooltipEl.style.opacity = 1;
                                    tooltipEl.style.position = 'absolute';
                                    tooltipEl.style.color = '#fff';
                                    tooltipEl.style.fontWeight = '500';
                                    tooltipEl.style.fontFamily = ' "TT Norms", sans-serif';
                                    tooltipEl.style.left = position.left + window.pageXOffset + tooltipModel.caretX + 'px';
                                    tooltipEl.style.top = position.top - 30 + window.pageYOffset + tooltipModel.caretY + 'px';
                                    tooltipEl.style.padding = tooltipModel.padding + 'px ' + tooltipModel.padding + 'px';
                                    tooltipEl.style.pointerEvents = 'none';
                                }
                            }
                        },
                        scales: {
                            y: {
                                display: false,
                                border: {
                                    display: false,
                                },
                                grid: {
                                    display: false,
                                }
                            },
                            x: {
                                border: {
                                    display: false,
                                },
                                grid: {
                                    display: false,
                                }
                            }
                        }
                    }
                });
            }

        }

        renderIncomeChartSecond([createNumberArray(6, 100), createNumberArray(6, 100)], ['СЕН', 'ОКТ', 'НОЯ', 'ДЕК', 'ЯНВ', 'ФЕВ'])
        // оплаты
        const renderIncomeChart = (data, labelArray) => {
            const incomeChart = document.getElementById('incomechart');
            if (incomeChart) {
                new Chart(incomeChart, {
                    type: 'line',
                    interaction: {
                        mode: 'index',
                    },
                    data: {
                        labels: labelArray,
                        datasets: [
                            {
                                label: '',
                                data: data[0],
                                borderWidth: 4,
                                backgroundColor: '#4318FF',
                                borderColor: '#4318FF',
                                borderRadius: 50,
                                categoryPercentage: 1,
                                barPercentage: .3,
                                pointRadius: 5,
                                backgroundColor: 'rgba(0, 0, 0, 0)',
                                pointBackgroundColor: 'rgba(0, 0, 0, 0)',
                                pointBorderColor: 'rgba(0, 0, 0, 0)',
                                pointHoverBackgroundColor: '#fff',
                                pointHoverBorderColor: '#4318FF',
                                pointHoverRadius: 10,
                            },
                            {
                                label: '',
                                data: data[1],
                                borderWidth: 4,
                                backgroundColor: '#7B6CBF',
                                borderColor: '#7B6CBF',
                                borderRadius: 50,
                                categoryPercentage: 1,
                                barPercentage: .3,
                                pointRadius: 5,
                                backgroundColor: 'rgba(0, 0, 0, 0)',
                                pointBackgroundColor: 'rgba(0, 0, 0, 0)',
                                pointBorderColor: 'rgba(0, 0, 0, 0)',
                                pointHoverBackgroundColor: '#fff',
                                pointHoverBorderColor: '#7B6CBF',
                                pointHoverRadius: 10,
                            },
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: {
                            mode: 'nearest',
                            // axis: 'y',
                            intersect: false
                        },
                        elements: {
                            line: {
                                tension: 0.4,
                            }
                        },

                        plugins: {
                            legend: {
                                display: false,
                            },
                            tooltip: {
                                // Disable the on-canvas tooltip
                                enabled: false,
                                callbacks: {
                                    title: function (context) {
                                        return ''
                                    },
                                },
                                external: function (context) {
                                    // Tooltip Element
                                    let tooltipEl = document.getElementById('chartjs-tooltip');

                                    // Create element on first render
                                    if (!tooltipEl) {
                                        tooltipEl = document.createElement('div');
                                        tooltipEl.id = 'chartjs-tooltip';
                                        tooltipEl.innerHTML = '<table></table>';
                                        document.body.appendChild(tooltipEl);
                                    }

                                    // Hide if no tooltip
                                    const tooltipModel = context.tooltip;
                                    if (tooltipModel.opacity === 0) {
                                        tooltipEl.style.opacity = 0;
                                        return;
                                    }

                                    // Set caret Position
                                    tooltipEl.classList.remove('above', 'below', 'no-transform');
                                    if (tooltipModel.yAlign) {
                                        tooltipEl.classList.add(tooltipModel.yAlign);
                                    } else {
                                        tooltipEl.classList.add('no-transform');
                                    }

                                    function getBody(bodyItem) {
                                        return bodyItem.lines;
                                    }

                                    // Set Text
                                    if (tooltipModel.body) {
                                        const titleLines = tooltipModel.title || [];
                                        const bodyLines = tooltipModel.body.map(getBody);

                                        let innerHtml = '<thead>';

                                        titleLines.forEach(function (title) {
                                            innerHtml += '<tr><th>' + title + '</th></tr>';
                                        });
                                        innerHtml += '</thead><tbody>';

                                        bodyLines.forEach(function (body, i) {
                                            const colors = tooltipModel.labelColors[i];
                                            let style = 'background:' + tooltipModel.dataPoints[0].dataset.borderColor;
                                            style += '; border-color:' + colors.borderColor;
                                            style += '; border-width: 2px';
                                            style += '; padding:5px 10px';
                                            style += '; font-size:14px';
                                            style += '; border-radius:5px';
                                            const span = '<span style="' + style + '">' + body + '₽' + '</span>';
                                            innerHtml += '<tr><td>' + span + '</td></tr>';
                                        });
                                        innerHtml += '</tbody>';

                                        let tableRoot = tooltipEl.querySelector('table');
                                        tableRoot.innerHTML = innerHtml;
                                    }

                                    const position = context.chart.canvas.getBoundingClientRect();
                                    const bodyFont = Chart.helpers.toFont(tooltipModel.options.bodyFont);

                                    // Display, position, and set styles for font
                                    tooltipEl.style.opacity = 1;
                                    tooltipEl.style.position = 'absolute';
                                    tooltipEl.style.color = '#fff';
                                    tooltipEl.style.fontWeight = '500';
                                    tooltipEl.style.fontFamily = ' "TT Norms", sans-serif';
                                    tooltipEl.style.left = position.left + window.pageXOffset + tooltipModel.caretX + 'px';
                                    tooltipEl.style.top = position.top - 30 + window.pageYOffset + tooltipModel.caretY + 'px';
                                    tooltipEl.style.padding = tooltipModel.padding + 'px ' + tooltipModel.padding + 'px';
                                    tooltipEl.style.pointerEvents = 'none';
                                }
                            },
                        },
                        scales: {
                            y: {
                                display: false,
                                border: {
                                    display: false,
                                },
                                grid: {
                                    display: false,
                                }
                            },
                            x: {
                                display: false,
                                border: {
                                    display: false,
                                },
                                grid: {
                                    display: false,
                                }
                            }
                        }
                    }
                });
            }
        }
        renderIncomeChart([createNumberArray(6, 100), createNumberArray(6, 100)], ['СЕН', 'ОКТ', 'НОЯ', 'ДЕК', 'ЯНВ', 'ФЕВ'])
        // Операции
        const renderOperationChart = (data) => {
            const operationchart = document.getElementById('operationchart');
            const currentMonth = new Date().toLocaleDateString("ru", { month: "short" });
            new Chart(operationchart, {
                type: 'bar',
                data: {
                    labels: [...Array(data[0].length).keys()].map(i => i + 1),
                    datasets: [
                        {
                            label: 'Возвраты',
                            data: data[0],
                            borderWidth: 0,
                            backgroundColor: '#FAFF18',
                            borderRadius: 50,
                            categoryPercentage: 1,
                            barPercentage: .95,
                        },
                        {
                            label: 'Претензии',
                            data: data[1],
                            borderWidth: 0,
                            backgroundColor: '#FFCC18',
                            borderRadius: 50,
                            categoryPercentage: 1,
                            barPercentage: .95,
                        },
                        {
                            label: 'Чарджи',
                            data: data[2],
                            borderWidth: 0,
                            backgroundColor: '#FF1818',
                            borderRadius: 50,
                            categoryPercentage: 1,
                            barPercentage: .95,
                        },
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false,
                        },
                        tooltip: {
                            callbacks: {
                                title: function (context) {
                                    return `${context[0].label} ${currentMonth.substring(0, 3)}.`

                                },
                            },
                        },
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            display: false,

                            border: {
                                display: false,
                            },
                            grid: {
                                display: false,
                            }
                        },
                        x: {
                            display: false,
                            beginAtZero: true,
                            barPercentage: 1,
                            categoryPercentage: 1,
                            border: {
                                display: false,
                            },
                            grid: {
                                display: false,
                            }
                        }
                    }
                }
            });
        }

        renderOperationChart([createNumberArray(31, 100), createNumberArray(31, 100), createNumberArray(31, 100)])

        // Трафик
        const renderTrafficChart = (data) => {
            const trafficChart = document.getElementById('trafficchart');
            if (trafficChart) {
                const currentMonth = new Date().toLocaleDateString("ru", { month: "short" });
                const trafficChartItem = new Chart(trafficChart, {
                    type: 'bar',
                    data: {
                        labels: [...Array(data.length).keys()].map(i => i + 1),
                        datasets: [
                            {
                                label: '',
                                data: data,
                                borderWidth: 0,
                                backgroundColor: ['#4318FF', '#18FFFF'],
                                borderRadius: 50,
                                categoryPercentage: 1,
                                barPercentage: .95,
                            },
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false,
                            },
                            tooltip: {
                                callbacks: {
                                    title: function (context) {
                                        return `${context[0].label} ${currentMonth.substring(0, 3)}.`
                                    },
                                },
                            },
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                display: false,

                                border: {
                                    display: false,
                                },
                                grid: {
                                    display: false,
                                }
                            },
                            x: {
                                display: false,
                                beginAtZero: true,
                                barPercentage: 1,
                                categoryPercentage: 1,
                                border: {
                                    display: false,
                                },
                                grid: {
                                    display: false,
                                }
                            }
                        }
                    }
                });
            }
        }

        renderTrafficChart(createNumberArray(31, 100))


        // Активность разделов
        const renderActivityChart = (data) => {
            const activityChart = document.getElementById('activityChart');
            if (activityChart) {
                const currentMonth = new Date().toLocaleDateString("ru", { month: "short" });
                new Chart(activityChart, {
                    type: 'bar',

                    data: {
                        labels: [...Array(data[0].length).keys()].map(i => i + 1),
                        datasets: [
                            {
                                label: 'умный поиск',
                                data: data[0],
                                borderWidth: 0,
                                backgroundColor: '#7B20A6',
                                borderRadius: 50,
                                categoryPercentage: 1,
                                barPercentage: .3,
                            },
                            {
                                label: 'аналитика вк',
                                data: data[1],
                                borderWidth: 0,
                                backgroundColor: '#28B8E5',
                                borderRadius: 50,
                                categoryPercentage: 1,
                                barPercentage: .3,
                            },
                            {
                                label: 'мониторинг поиска',
                                data: data[2],
                                borderWidth: 0,
                                backgroundColor: '#E3D6E9',
                                borderRadius: 50,
                                categoryPercentage: 1,
                                barPercentage: .3,
                            },
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,

                        plugins: {
                            legend: {
                                display: false,
                            },
                            tooltip: {
                                callbacks: {
                                    title: function (context) {
                                        return `${context[0].label} ${currentMonth.substring(0, 3)}.`

                                    },
                                },
                            },
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                display: false,
                                stacked: true,
                                border: {
                                    display: false,
                                },
                                grid: {
                                    display: false,
                                }
                            },
                            x: {
                                beginAtZero: true,
                                barPercentage: 1,
                                stacked: true,
                                categoryPercentage: 1,
                                border: {
                                    display: false,
                                },
                                grid: {
                                    display: false,
                                }
                            }
                        }
                    }
                });
            }

        }
        renderActivityChart([createNumberArray(31, 100), createNumberArray(31, 100), createNumberArray(31, 100)]);

        console.log(document.referrer);
    </script>


    <script src="assets/libs/swiper/swiper.js"></script>
    <script src="assets/scripts/index.js"></script>
</body>

</html>